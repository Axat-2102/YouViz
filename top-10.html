<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from demo.ninjateam.org/html/spaceX/light/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 12 Mar 2022 04:57:51 GMT -->

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>YouViz</title>

    <!-- Main Styles -->
    <link rel="stylesheet" href="assets/styles/style.min.css">
    <link rel="stylesheet" href="assets/styles/custom.css">

    <!-- Themify Icon -->
    <link rel="stylesheet" href="assets/fonts/themify-icons/themify-icons.css">

    <!-- mCustomScrollbar -->
    <link rel="stylesheet" href="assets/plugin/mCustomScrollbar/jquery.mCustomScrollbar.min.css">

    <!-- Waves Effect -->
    <link rel="stylesheet" href="assets/plugin/waves/waves.min.css">

    <!-- Sweet Alert -->
    <link rel="stylesheet" href="assets/plugin/sweet-alert/sweetalert.css">




</head>

<body>
    <div class="main-menu" style="background-color: #E6E6FA ;height: 5em">
        <header class="header">
            <a href="index.html" class="logo" style="color: #6C2DC7; opacity: 0.80;background-color: #E6E6FA; font-family: 'Poppins';font-size: 40px; height: 5em; margin-top: 10px;">YouViz</a>
            <button type="button" class="button-close fa fa-times js__menu_close" ></button>
        </header>
        <!-- /.header -->
        <div class="content">

            <div class="navigation">
                <h5 class="title" style="background-color: #E6E6FA;"></h5>
                <!-- /.title -->
                <ul class="menu js__accordion">
                    <li>
                        <a class="waves-effect" href="index.html"><i
                                class="menu-icon ti-dashboard" style="font-size: 20px; "></i><span style="font-family: 'Poppins'">Dashboard</span></a>
                    </li>
                    <li class="current">
                        <a class="waves-effect" href="top-10.html" style="background-color: #6C2DC7; opacity: 0.80; border-radius: 10px;"><i class="menu-icon ti-crown"></i><span style="font-family: 'Poppins'">Top
                                Trends</span></a>
                    </li>
                    <li>
                        <a class="waves-effect" href="comparision.html"><i
                                class="menu-icon ti-world"></i><span style="font-family: 'Poppins'">Comparison</span></a>
                    </li>
                </ul>
                <!-- /.menu js__accordion -->
            </div>
            <!-- /.navigation -->
        </div>
        <!-- /.content -->
    </div>
    <!-- /.main-menu -->

    <div class="fixed-navbar" style="background-color: #E6E6FA; height: 5.35em;">
        <div class="float-left">
            <button type="button" class="menu-mobile-button fas fa-bars js__menu_mobile" style="background-color: #E6E6FA; margin-top: 10px; color: #6C2DC7; opacity: 0.80; font-size: 160%;"></button>
            <!-- <h1 class="page-title">Home</h1> -->
            <select class="form-control select2_1" id="country" onchange="getcndata()" style="margin-top: 10px; background-color: ; color: #6C2DC7; font-size: 20px; border-radius: 10px;">
                <option value="us" selected>United States</option>
                <option value="gb">Great Britan</option>
                <option value="ca">Canada</option>
                <option value="fr">France</option>
                <option value="in">India</option>
            </select>
            <!-- /.page-title -->
        </div>
        <!-- /.float-left -->
        <!-- <div class="float-right">
            <div class="ico-item">
                <a href="#" class="ico-item ti-search js__toggle_open" data-target="#searchform-header"></a>
                <form action="#" id="searchform-header" class="searchform js__toggle"><input type="search"
                        placeholder="Search..." class="input-search"><button class="ti-search button-search"
                        type="submit"></button></form>
                /.searchform
            </div>
            /.ico-item
            <a href="#" class="ico-item ti-email notice-alarm js__toggle_open" data-target="#message-popup"></a>
            <a href="#" class="ico-item ti-bell notice-alarm js__toggle_open" data-target="#notification-popup"></a>
            <div class="ico-item">
                <i class="ti-user"></i>
                <ul class="sub-ico-item">
                    <li><a href="#">Settings</a></li>
                    <li><a class="js__logout" href="#">Log Out</a></li>
                </ul>
                /.sub-ico-item
            </div>
        </div> -->
        <!-- /.float-right -->
    </div>
    <!-- /.fixed-navbar -->


    <div id="wrapper" style="background-color: #FEFEFC;">
        <div class="main-content">
            <div class="row">
                <div class="col-lg-6" style=" color: #6C2DC7;">  
                    <div class="box-content">
                        <h4 class="box-title">Pie Chart- Top 5 Videos with highest Views</h4>
                        <!-- /.dropdown js__dropdown -->
                        <select class="form-control select2_1" id="active_cat" onchange="getViews(this.value);" style="background-color:#E6E6FA;">
                            <option value="" disabled selected>Please Select Category</option>
                        </select>

                        <canvas id="display-top-view-chart" maxheight="320px"></canvas>

                        <!-- /#flot-chart-1.flot-chart -->
                    </div>
                    <!-- /.box-content -->
                </div>
                <!-- /.col-xl-6 col-lg-12 -->

                <!--  Top 5 Videos with highest Likes -->
                <div class="col-lg-6" style=" color: #6C2DC7;">
                    <div class="box-content">
                        <h4 class="box-title">Pie Chart- Top 5 Videos with highest Likes</h4>
                        <!-- /.dropdown js__dropdown -->
                        <select class="form-control select2_1" id="active_cat_like"
                            onchange="getlikevideos(this.value);"  style="background-color:#E6E6FA;">
                            <option value="" disabled selected>Please Select Category</option>
                        </select>

                        <canvas id="top-like-videos" maxheight="320px"></canvas>

                        <!-- /#flot-chart-1.flot-chart -->
                    </div>
                    <!-- /.box-content -->
                </div>
                <!-- /.col-xl-6 col-lg-12 -->

                <!-- Top 5 Videos with highest DisLikes -->
                <div class="col-lg-6" style=" color: #6C2DC7;">
                    <div class="box-content">
                        <h4 class="box-title">Pie Chart- Top 5 Videos with highest Dislikes</h4>
                        <!-- /.dropdown js__dropdown -->
                        <select class="form-control select2_1" id="active_cat_dislike"
                            onchange="getdislikevideos(this.value);" style="background-color:#E6E6FA;">
                            <option value="" disabled selected>Please Select Category</option>
                        </select>

                        <canvas id="top-dislike-videos" maxheight="320px"></canvas>

                        <!-- /#flot-chart-1.flot-chart -->
                    </div>
                    <!-- /.box-content -->
                </div>
                <!-- /.col-xl-6 col-lg-12 -->

                <!-- Top 5 Videos with highest Comments -->
                <div class="col-lg-6" style=" color: #6C2DC7;">
                    <div class="box-content">
                        <h4 class="box-title">Pie Chart- Top 5 Videos with highest Comments</h4>
                        <!-- /.dropdown js__dropdown -->
                        <select class="form-control select2_1" id="active_cat_comment"
                            onchange="getcommentsvideos(this.value);" style="background-color:#E6E6FA;">
                            <option value="" disabled selected>Please Select Category</option>
                        </select>

                        <canvas id="top-comments-videos" maxheight="320px"></canvas>

                        <!-- /#flot-chart-1.flot-chart -->
                    </div>
                    <!-- /.box-content -->
                </div>
                <!-- /.col-xl-6 col-lg-12 -->
            </div>
        </div>
        <!-- /.main-content -->
    </div>
    <!--/#wrapper -->
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
		<script src="assets/script/html5shiv.min.js"></script>
		<script src="assets/script/respond.min.js"></script>
	<![endif]-->
    <!-- 
	================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="assets/scripts/jquery.min.js" type="text/javascript"></script>
    <script src="assets/scripts/modernizr.min.js" type="text/javascript"></script>
    <script src="assets/plugin/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="assets/plugin/mCustomScrollbar/jquery.mCustomScrollbar.concat.min.js" type="text/javascript"></script>
    <script src="assets/plugin/nprogress/nprogress.js" type="text/javascript"></script>
    <script src="assets/plugin/sweet-alert/sweetalert.min.js" type="text/javascript"></script>
    <script src="assets/plugin/waves/waves.min.js" type="text/javascript"></script>

    <script src="jquery-csv.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.71/jquery.csv-0.71.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>

    <!-- Get category ids -->
    <script>

        function getcndata() {
            $("#active_cat")[0].selectedIndex = 1;
            $("#active_cat_like")[0].selectedIndex = 1;
            $("#active_cat_dislike")[0].selectedIndex = 1;
            $("#active_cat_comment")[0].selectedIndex = 1;

            
            
            for (let i = 0; i < 5; i++) {
                topViewsChart.data.labels.splice(-1, 1);
                topViewsChart.data.datasets.forEach(dataset => {
                dataset.data.pop();
                topViewsChart.update();
                });

                toplikeschart.data.labels.splice(-1, 1);
                toplikeschart.data.datasets.forEach(dataset => {
                dataset.data.pop();
                toplikeschart.update();
                });

                topdislikeschart.data.labels.splice(-1, 1);
                topdislikeschart.data.datasets.forEach(dataset => {
                dataset.data.pop();
                topdislikeschart.update();
                });

                topcommentschart.data.labels.splice(-1, 1);
                topcommentschart.data.datasets.forEach(dataset => {
                dataset.data.pop();
                topcommentschart.update();
                });
            }

            getViews();
            getcommentsvideos();
            getdislikevideos();
            getlikevideos();

        }


        function getactivecat() {
            $.ajax({
                url: "api.php?method=getactivecat",
                async: true,
                method: "POST",
                data: {},
                datatype: "json",
                success: function (response) {
                    console.log(response);
                    let dataxa = JSON.parse(response);
                    $.each(dataxa, function (cat, cat) {
                        $("#active_cat").append(
                            '<option value="' + cat.id + '">' + cat.title + "</option>"
                        );
                        $("#active_cat_like").append(
                            '<option value="' + cat.id + '">' + cat.title + "</option>"
                        );
                        $("#active_cat_dislike").append(
                            '<option value="' + cat.id + '">' + cat.title + "</option>"
                        );
                        $("#active_cat_comment").append(
                            '<option value="' + cat.id + '">' + cat.title + "</option>"
                        );
                    });

                },
                error: function (response) {
                    console.log(response);
                },
            });

        }
        getactivecat();
    </script>

    <!-- Pie Chart- Top 5 based on views -->
    <script>
        const data = {
            labels: [],
            datasets: [
                {
                    label: 'Dataset 1',
                    data: [],
                    backgroundColor: ['#f7e08d', '#E47792', '#66abf4', '#a1b5ce', '#ae85e0'],
                }
            ]
        };
        const topViews = document.getElementById('display-top-view-chart').getContext('2d');
        const topViewsChart = new Chart(topViews, {
            type: 'pie',
            data: data,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'Pie Chart'
                    }
                }
            },
        });


        function getViews(val) {
            var cn = $("#country option:selected").val()
            if (cn == 'ca') {
                var seturl = "api.php?method=gettop5byviewca";
            } else if (cn == 'us') {
                var seturl = "api.php?method=gettop5byviewus";
            } else if (cn == '') {
                var seturl = "api.php?method=gettop5byviewus";
            } else if (cn == 'gb') {
                var seturl = "api.php?method=gettop5byviewgb";
            } else if (cn == 'in') {
                var seturl = "api.php?method=gettop5byviewin";
            } else if (cn == 'fr') {
                var seturl = "api.php?method=gettop5byviewfr";
            }
            var cat = $("#active_cat option:selected").val();
            if (cat == undefined){
                cat = 1;
            }
            $.ajax({
                url: seturl,
                async: true,
                method: "POST",
                data: {
                    cat_id: cat,
                },
                datatype: "json",
                success: function (response) {
                    console.log(response);
                    let dataxa = JSON.parse(response);
                    console.info(dataxa);
                    for (let i = 0; i < 5; i++) {
                        topViewsChart.data.labels.splice(-1, 1);
                        topViewsChart.data.datasets.forEach(dataset => {
                            dataset.data.pop();
                        });
                    }
                    const data = topViewsChart.data;
                    $.each(dataxa, function (cat, cat) {
                        data.labels.push(cat.y);
                        topViewsChart.update();
                        for (let index = 0; index < data.datasets.length; ++index) {
                            data.datasets[index].data.push(cat.x);
                        }
                    });
                    topViewsChart.update();
                    return response;
                },
                error: function (response) {
                    console.log(response);
                },
            });

        }


    </script>


    <!-- Pie Chart- Top 5 based on likes -->
    <script>

        const likes_data = {
            labels: [],
            datasets: [
                {
                    label: 'Dataset 1',
                    data: [],
                    backgroundColor: ['#f7e08d', '#E47792', '#66abf4', '#a1b5ce', '#ae85e0'],
                }
            ]
        };
        const toplikes = document.getElementById('top-like-videos').getContext('2d');
        const toplikeschart = new Chart(toplikes, {
            type: 'pie',
            data: likes_data,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'Pie Chart'
                    }
                }
            },
        });


        function getlikevideos(val) {
            var cn = $("#country option:selected").val()
            if (cn == 'ca') {
                var seturl = "api.php?method=gettop5bylikesca";
            } else if (cn == 'us') {
                var seturl = "api.php?method=gettop5bylikesus";
            } else if (cn == '') {
                var seturl = "api.php?method=gettop5bylikesus";
            } else if (cn == 'gb') {
                var seturl = "api.php?method=gettop5bylikesgb";
            } else if (cn == 'in') {
                var seturl = "api.php?method=gettop5bylikesin";
            } else if (cn == 'fr') {
                var seturl = "api.php?method=gettop5bylikesfr";
            }

            var cat = $("#active_cat_like option:selected").val();
            if (cat == undefined){
                cat = 1;
            }
            //alert(val);
            $.ajax({
                url: seturl,
                async: true,
                method: "POST",
                data: {
                    cat_id: cat,
                },
                datatype: "json",
                success: function (response) {
                    console.log(response);
                    let dataxa = JSON.parse(response);
                    console.info(dataxa);
                    for (let i = 0; i < 5; i++) {
                        toplikeschart.data.labels.splice(-1, 1);
                        toplikeschart.data.datasets.forEach(dataset => {
                            dataset.data.pop();
                        });
                    }
                    const data = toplikeschart.data;
                    $.each(dataxa, function (cat, cat) {
                        data.labels.push(cat.y);
                        toplikeschart.update();
                        for (let index = 0; index < data.datasets.length; ++index) {
                            data.datasets[index].data.push(cat.x);
                        }
                    });
                    toplikeschart.update();
                    return response;
                },
                error: function (response) {
                    //console.log(response);
                },
            });

        }


    </script>

    <!-- Pie Chart- Top 5 based on dislikes -->
    <script>

        const dislikes_data = {
            labels: [],
            datasets: [
                {
                    label: 'Dataset 1',
                    data: [],
                    backgroundColor: ['#f7e08d', '#E47792', '#66abf4', '#a1b5ce', '#ae85e0'],
                }
            ]
        };
        const topdislikes = document.getElementById('top-dislike-videos').getContext('2d');
        const topdislikeschart = new Chart(topdislikes, {
            type: 'pie',
            data: dislikes_data,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'Pie Chart'
                    }
                }
            },
        });


        function getdislikevideos(val) {
            var cn = $("#country option:selected").val()
            if (cn == 'ca') {
                var seturl = "api.php?method=gettop5bydislikesca";
            } else if (cn == 'us') {
                var seturl = "api.php?method=gettop5bydislikesus";
            } else if (cn == '') {
                var seturl = "api.php?method=gettop5bydislikesus";
            } else if (cn == 'gb') {
                var seturl = "api.php?method=gettop5bydislikesgb";
            } else if (cn == 'in') {
                var seturl = "api.php?method=gettop5bydislikesin";
            } else if (cn == 'fr') {
                var seturl = "api.php?method=gettop5bydislikesfr";
            }

            var cat = $("#active_cat_dislike option:selected").val();
            if (cat == undefined){
                cat = 1;
            }
            //alert(val);
            $.ajax({
                url: seturl,
                async: true,
                method: "POST",
                data: {
                    cat_id: cat,
                },
                datatype: "json",
                success: function (response) {
                    console.log(response);
                    let dataxa = JSON.parse(response);
                    console.info(dataxa);
                    for (let i = 0; i < 5; i++) {
                        topdislikeschart.data.labels.splice(-1, 1);
                        topdislikeschart.data.datasets.forEach(dataset => {
                            dataset.data.pop();
                        });
                    }
                    const data = topdislikeschart.data;
                    $.each(dataxa, function (cat, cat) {
                        data.labels.push(cat.y);
                        topdislikeschart.update();
                        for (let index = 0; index < data.datasets.length; ++index) {
                            data.datasets[index].data.push(cat.x);
                        }
                    });
                    topdislikeschart.update();
                    return response;
                },
                error: function (response) {
                    //console.log(response);
                },
            });

        }

    </script>

    <!-- Pie Chart- Top 5 based on comments -->
    <script>

        const comments_data = {
            labels: [],
            datasets: [
                {
                    label: 'Dataset 1',
                    data: [],
                    backgroundColor: ['#f7e08d', '#E47792', '#66abf4', '#a1b5ce', '#ae85e0'],
                }
            ]
        };
        const topcomments = document.getElementById('top-comments-videos').getContext('2d');
        const topcommentschart = new Chart(topcomments, {
            type: 'pie',
            data: comments_data,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'Pie Chart'
                    }
                }
            },
        });


        function getcommentsvideos(val) {
            var cn = $("#country option:selected").val()
            if (cn == 'ca') {
                var seturl = "api.php?method=gettop5bycommentsca";
            } else if (cn == 'us') {
                var seturl = "api.php?method=gettop5bycommentsus";
            } else if (cn == '') {
                var seturl = "api.php?method=gettop5bycommentsus";
            } else if (cn == 'gb') {
                var seturl = "api.php?method=gettop5bycommentsgb";
            } else if (cn == 'in') {
                var seturl = "api.php?method=gettop5bycommentsin";
            } else if (cn == 'fr') {
                var seturl = "api.php?method=gettop5bycommentsfr";
            }

            var cat = $("#active_cat_comment option:selected").val();
            if (cat == undefined){
                cat = 1;
            }
            //alert(val);
            $.ajax({
                url: seturl,
                async: true,
                method: "POST",
                data: {
                    cat_id: cat,
                },
                datatype: "json",
                success: function (response) {
                    console.log(response);
                    let dataxa = JSON.parse(response);
                    console.info(dataxa);
                    for (let i = 0; i < 5; i++) {
                        topcommentschart.data.labels.splice(-1, 1);
                        topcommentschart.data.datasets.forEach(dataset => {
                            dataset.data.pop();
                        });
                    }
                    const data = topcommentschart.data;
                    $.each(dataxa, function (cat, cat) {
                        data.labels.push(cat.y);
                        topcommentschart.update();
                        for (let index = 0; index < data.datasets.length; ++index) {
                            data.datasets[index].data.push(cat.x);
                        }
                    });
                    topcommentschart.update();
                    return response;
                },
                error: function (response) {
                    //console.log(response);
                },
            });
        }

        getcndata();

    </script>




    <script src="assets/scripts/main.min.js" type="text/javascript"></script>
    <script src="assets/scripts/mycommon.js" type="text/javascript"></script>
    <script src="assets/scripts/rocket-loader.min.js" type="text/javascript"></script>
</body>

<!-- Mirrored from demo.ninjateam.org/html/spaceX/light/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 12 Mar 2022 04:58:15 GMT -->

</html>

</html>